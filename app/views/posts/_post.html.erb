<article class="card shadow-sm mb-3">
  <div class="card-body">
    <h1 class="card-title">
      <%= link_to post.title, post, class: 'text-body text-decoration-none' %>
    </h1>
    <div class="card-subtitle">
      <%= link_to post.author.name, post.author, class: 'text-body-secondary text-decoration-none' %>
    </div>
    <div class="card-text"><%= post.content %></div>
  </div>
  <footer class="card-footer">
    <span class="btn">
      (<%= post.likers.count %>) likes
    </span>

    <% if post.likers.include?(current_user) %>
      <%= button_to 'Dislike', dislike_url(post.id), method: :put, class: 'btn btn-link', form_class: 'd-inline' %>
    <% else %>
      <%= button_to 'Like', like_url(post.id), method: :put, class: 'btn btn-link', form_class: 'd-inline' %>
    <% end %>
    <% if current_user == post.author %>
      <%= link_to 'Edit', edit_post_path(post), class: 'btn btn-link' %>
      <%= button_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-link', form_class: 'd-inline' %>
    <% end %>
  </footer>
</article>
